{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport favoritesService from \"../services/favoritesService\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar BusCard = function BusCard(_ref) {\n  var bus = _ref.bus,\n    _onPress = _ref.onPress;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFavorite = _useState2[0],\n    setIsFavorite = _useState2[1];\n  useEffect(function () {\n    checkFavoriteStatus();\n  }, [bus.lineNumber, bus.destination]);\n  var checkFavoriteStatus = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var favorite = yield favoritesService.isFavorite(bus.lineNumber, bus.destination);\n        setIsFavorite(favorite);\n      } catch (error) {\n        console.error('Error checking favorite status:', error);\n      }\n    });\n    return function checkFavoriteStatus() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleFavoritePress = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        if (isFavorite) {\n          yield favoritesService.removeFavorite(bus.lineNumber, bus.destination);\n          setIsFavorite(false);\n        } else {\n          yield favoritesService.addFavorite(bus);\n          setIsFavorite(true);\n        }\n      } catch (error) {\n        console.error('Error toggling favorite:', error);\n        Alert.alert('Error', 'Failed to update favorite status');\n      }\n    });\n    return function handleFavoritePress() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxs(TouchableOpacity, {\n    style: styles.card,\n    onPress: function onPress() {\n      return _onPress(bus);\n    },\n    children: [_jsxs(View, {\n      style: styles.busIcon,\n      children: [_jsx(Text, {\n        style: styles.busIconText,\n        children: bus.lineNumber\n      }), bus.directionName && _jsx(Text, {\n        style: styles.busDirectionText,\n        children: bus.direction === 0 ? '→' : '←'\n      })]\n    }), _jsxs(View, {\n      style: styles.busItemInfo,\n      children: [_jsx(Text, {\n        style: styles.busItemDestination,\n        children: bus.destination\n      }), _jsx(Text, {\n        style: styles.busItemRoute,\n        children: bus.route\n      }), bus.directionName && _jsxs(Text, {\n        style: styles.busItemDirection,\n        children: [\"Direction: \", bus.directionName]\n      }), _jsxs(Text, {\n        style: styles.busItemStatus,\n        children: [bus.status, \" \\u2022 \", bus.nextStop]\n      }), _jsxs(Text, {\n        style: styles.busItemTime,\n        children: [\"Arrival: \", bus.arrivalTime]\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: styles.favoriteButton,\n      onPress: handleFavoritePress,\n      children: _jsx(Text, {\n        style: styles.favoriteButtonText,\n        children: isFavorite ? '⭐' : '☆'\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  card: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    padding: 12,\n    marginVertical: 4,\n    marginHorizontal: 10,\n    borderRadius: 8,\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 2\n  },\n  busIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: '#0066cc',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 12,\n    position: 'relative'\n  },\n  busIconText: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 12\n  },\n  busDirectionText: {\n    position: 'absolute',\n    bottom: -3,\n    right: -3,\n    backgroundColor: '#fff',\n    color: '#0066cc',\n    fontSize: 10,\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    textAlign: 'center',\n    lineHeight: 16,\n    fontWeight: 'bold'\n  },\n  busItemInfo: {\n    flex: 1\n  },\n  busItemDestination: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 2\n  },\n  busItemRoute: {\n    fontSize: 12,\n    color: '#666',\n    marginBottom: 2\n  },\n  busItemDirection: {\n    fontSize: 11,\n    color: '#0066cc',\n    fontWeight: '500',\n    marginBottom: 2\n  },\n  busItemStatus: {\n    fontSize: 11,\n    color: '#666',\n    marginBottom: 2\n  },\n  busItemTime: {\n    fontSize: 11,\n    color: '#0066cc',\n    fontWeight: 'bold'\n  },\n  favoriteButton: {\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 20,\n    backgroundColor: '#f8f9fa',\n    marginLeft: 8\n  },\n  favoriteButtonText: {\n    fontSize: 18,\n    color: '#ffc107'\n  }\n});\nexport default BusCard;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","Alert","favoritesService","jsx","_jsx","jsxs","_jsxs","BusCard","_ref","bus","onPress","_useState","_useState2","_slicedToArray","isFavorite","setIsFavorite","checkFavoriteStatus","lineNumber","destination","_ref2","_asyncToGenerator","favorite","error","console","apply","arguments","handleFavoritePress","_ref3","removeFavorite","addFavorite","alert","style","styles","card","children","busIcon","busIconText","directionName","busDirectionText","direction","busItemInfo","busItemDestination","busItemRoute","route","busItemDirection","busItemStatus","status","nextStop","busItemTime","arrivalTime","favoriteButton","favoriteButtonText","create","flexDirection","alignItems","backgroundColor","padding","marginVertical","marginHorizontal","borderRadius","elevation","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","justifyContent","marginRight","position","color","fontWeight","fontSize","bottom","right","textAlign","lineHeight","flex","marginBottom","marginLeft"],"sources":["/Users/alen/Develop/bus-schedule-app/Autotrolej/src/components/BusCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Alert } from 'react-native';\nimport favoritesService from '../services/favoritesService';\n\nconst BusCard = ({ bus, onPress }) => {\n\tconst [isFavorite, setIsFavorite] = useState(false);\n\n\tuseEffect(() => {\n\t\tcheckFavoriteStatus();\n\t}, [bus.lineNumber, bus.destination]);\n\n\tconst checkFavoriteStatus = async () => {\n\t\ttry {\n\t\t\tconst favorite = await favoritesService.isFavorite(bus.lineNumber, bus.destination);\n\t\t\tsetIsFavorite(favorite);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error checking favorite status:', error);\n\t\t}\n\t};\n\n\tconst handleFavoritePress = async () => {\n\t\ttry {\n\t\t\tif (isFavorite) {\n\t\t\t\tawait favoritesService.removeFavorite(bus.lineNumber, bus.destination);\n\t\t\t\tsetIsFavorite(false);\n\t\t\t} else {\n\t\t\t\tawait favoritesService.addFavorite(bus);\n\t\t\t\tsetIsFavorite(true);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Error toggling favorite:', error);\n\t\t\tAlert.alert('Error', 'Failed to update favorite status');\n\t\t}\n\t};\n\n\treturn (\n\t\t<TouchableOpacity style={styles.card} onPress={() => onPress(bus)}>\n\t\t\t<View style={styles.busIcon}>\n\t\t\t\t<Text style={styles.busIconText}>{bus.lineNumber}</Text>\n\t\t\t\t{bus.directionName && (\n\t\t\t\t\t<Text style={styles.busDirectionText}>\n\t\t\t\t\t\t{bus.direction === 0 ? '→' : '←'}\n\t\t\t\t\t</Text>\n\t\t\t\t)}\n\t\t\t</View>\n\t\t\t<View style={styles.busItemInfo}>\n\t\t\t\t<Text style={styles.busItemDestination}>{bus.destination}</Text>\n\t\t\t\t<Text style={styles.busItemRoute}>{bus.route}</Text>\n\t\t\t\t{bus.directionName && (\n\t\t\t\t\t<Text style={styles.busItemDirection}>Direction: {bus.directionName}</Text>\n\t\t\t\t)}\n\t\t\t\t<Text style={styles.busItemStatus}>{bus.status} • {bus.nextStop}</Text>\n\t\t\t\t<Text style={styles.busItemTime}>Arrival: {bus.arrivalTime}</Text>\n\t\t\t</View>\n\t\t\t<TouchableOpacity style={styles.favoriteButton} onPress={handleFavoritePress}>\n\t\t\t\t<Text style={styles.favoriteButtonText}>{isFavorite ? '⭐' : '☆'}</Text>\n\t\t\t</TouchableOpacity>\n\t\t</TouchableOpacity>\n\t);\n};\n\nconst styles = StyleSheet.create({\n\tcard: {\n\t\tflexDirection: 'row',\n\t\talignItems: 'center',\n\t\tbackgroundColor: '#fff',\n\t\tpadding: 12,\n\t\tmarginVertical: 4,\n\t\tmarginHorizontal: 10,\n\t\tborderRadius: 8,\n\t\televation: 2,\n\t\tshadowColor: '#000',\n\t\tshadowOffset: { width: 0, height: 1 },\n\t\tshadowOpacity: 0.1,\n\t\tshadowRadius: 2,\n\t},\n\tbusIcon: {\n\t\twidth: 40,\n\t\theight: 40,\n\t\tborderRadius: 20,\n\t\tbackgroundColor: '#0066cc',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tmarginRight: 12,\n\t\tposition: 'relative',\n\t},\n\tbusIconText: {\n\t\tcolor: '#fff',\n\t\tfontWeight: 'bold',\n\t\tfontSize: 12,\n\t},\n\tbusDirectionText: {\n\t\tposition: 'absolute',\n\t\tbottom: -3,\n\t\tright: -3,\n\t\tbackgroundColor: '#fff',\n\t\tcolor: '#0066cc',\n\t\tfontSize: 10,\n\t\twidth: 16,\n\t\theight: 16,\n\t\tborderRadius: 8,\n\t\ttextAlign: 'center',\n\t\tlineHeight: 16,\n\t\tfontWeight: 'bold',\n\t},\n\tbusItemInfo: {\n\t\tflex: 1,\n\t},\n\tbusItemDestination: {\n\t\tfontSize: 14,\n\t\tfontWeight: 'bold',\n\t\tcolor: '#333',\n\t\tmarginBottom: 2,\n\t},\n\tbusItemRoute: {\n\t\tfontSize: 12,\n\t\tcolor: '#666',\n\t\tmarginBottom: 2,\n\t},\n\tbusItemDirection: {\n\t\tfontSize: 11,\n\t\tcolor: '#0066cc',\n\t\tfontWeight: '500',\n\t\tmarginBottom: 2,\n\t},\n\tbusItemStatus: {\n\t\tfontSize: 11,\n\t\tcolor: '#666',\n\t\tmarginBottom: 2,\n\t},\n\tbusItemTime: {\n\t\tfontSize: 11,\n\t\tcolor: '#0066cc',\n\t\tfontWeight: 'bold',\n\t},\n\tfavoriteButton: {\n\t\twidth: 40,\n\t\theight: 40,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tborderRadius: 20,\n\t\tbackgroundColor: '#f8f9fa',\n\t\tmarginLeft: 8,\n\t},\n\tfavoriteButtonText: {\n\t\tfontSize: 18,\n\t\tcolor: '#ffc107',\n\t},\n});\n\nexport default BusCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}